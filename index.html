<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiasu CCTV Storage Estimator for Singapore - Never Miss a Moment</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font import and application */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc; /* Light background for professionalism */
        }
    </style>
</head>
<body class="p-4 sm:p-8">

<div class="max-w-4xl mx-auto bg-white shadow-2xl rounded-xl p-6 md:p-10 border-t-8 border-indigo-600">
    <!-- SEO & Branding Header -->
    <header class="mb-8 text-center">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 mb-2">
            üá∏üá¨ The Kiasu CCTV Storage Estimator üõ°Ô∏è
        </h1>
        <p class="text-xl text-indigo-600 font-semibold mb-4">
            *Never* Run Out of Evidence. Calculate Your NVR/DVR Storage Needs Accurately.
        </p>
        <p class="text-gray-500 max-w-2xl mx-auto">
            Get the right capacity for your HDB, Condo, or Business security setup. We make sure your peace of mind is protected for the long haul.
        </p>
    </header>

    <!-- Calculator Grid -->
    <div id="calculator-inputs" class="grid md:grid-cols-2 gap-8 mb-8">

        <!-- Input 1: Number of Cameras -->
        <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
            <label for="camera-count" class="block text-lg font-medium text-gray-700 mb-2">
                1. How many cameras are you installing?
            </label>
            <input type="number" id="camera-count" value="4" min="1" max="32" oninput="calculateStorage()"
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-xl font-bold">
            <p class="mt-2 text-sm text-gray-500">
                Commonly 4-8 for HDB/Condo, more for landed or business premises.
            </p>
        </div>

        <!-- Input 2: Recording Days Required -->
        <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
            <label for="recording-days" class="block text-lg font-medium text-gray-700 mb-2">
                2. How many days of recording must you keep?
            </label>
            <input type="number" id="recording-days" value="14" min="7" max="180" oninput="calculateStorage()"
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-xl font-bold">
            <p class="mt-2 text-sm text-gray-500">
                Most Singaporeans opt for at least 7 to 14 days of history.
            </p>
        </div>

        <!-- Input 3: Video Quality (Resolution) -->
        <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
            <label for="resolution" class="block text-lg font-medium text-gray-700 mb-2">
                3. What video quality (Resolution) do you need?
            </label>
            <select id="resolution" onchange="calculateStorage()"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-xl font-bold appearance-none">
                <option value="2">1080p (2MP) - Good Clarity</option>
                <option value="4" selected>4MP (2K) - Recommended for Evidence</option>
                <option value="8">8MP (4K) - Ultra-Sharp Detail</option>
            </select>
        </div>

        <!-- Input 4: Compression Standard -->
        <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
            <label class="block text-lg font-medium text-gray-700 mb-3">
                4. What compression technology will you use?
            </label>
            <div class="flex space-x-4">
                <label class="flex items-center space-x-2 cursor-pointer bg-white p-3 rounded-lg border border-gray-300 hover:border-indigo-500 transition duration-150">
                    <input type="radio" name="compression" value="H.264" onchange="calculateStorage()" class="text-indigo-600 focus:ring-indigo-500" checked>
                    <span class="text-gray-900 font-semibold">H.264</span>
                    <span class="text-sm text-gray-500">(Standard)</span>
                </label>
                <label class="flex items-center space-x-2 cursor-pointer bg-white p-3 rounded-lg border border-gray-300 hover:border-indigo-500 transition duration-150">
                    <input type="radio" name="compression" value="H.265" onchange="calculateStorage()" class="text-indigo-600 focus:ring-indigo-500">
                    <span class="text-gray-900 font-semibold">H.265 (HEVC)</span>
                    <span class="text-sm text-green-600">(40% Less Storage!)</span>
                </label>
            </div>
        </div>
        
        <!-- Input 5: Frames Per Second (FPS) -->
        <div class="bg-gray-50 p-6 rounded-lg shadow-inner md:col-span-2">
            <label for="fps" class="block text-lg font-medium text-gray-700 mb-2">
                5. Recording Smoothness (Frames Per Second - FPS)
            </label>
            <select id="fps" onchange="calculateStorage()"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-xl font-bold appearance-none">
                <option value="15" selected>15 FPS - Standard Smoothness (Recommended for Home)</option>
                <option value="8">8 FPS - Max Storage Saving</option>
                <option value="25">25 FPS - Real-Time Motion (Required for Commercial/Landed)</option>
            </select>
        </div>

    </div>

    <!-- Results Area -->
    <div id="results-card" class="mt-8 p-6 bg-indigo-50 border-2 border-indigo-600 rounded-xl text-center">
        <h2 class="text-2xl font-bold text-indigo-900 mb-4">
            Required Storage Capacity:
        </h2>
        <p class="text-6xl font-extrabold text-indigo-600 mb-2" id="required-tb">0.00 TB</p>
        <p class="text-lg font-medium text-gray-700 mb-4">
            That's approximately <span id="required-gb" class="font-bold text-indigo-700">0 GB</span>.
        </p>

        <div id="recommendation-text" class="text-sm text-gray-600 mt-4">
            <!-- Recommendation text goes here -->
        </div>
    </div>

    <!-- SEO Footer Content -->
    <footer class="mt-10 pt-6 border-t border-gray-200 text-center">
        <p class="text-sm text-gray-500">
            *This calculator provides an estimated minimum required capacity. It uses standard bitrate assumptions for security cameras (HDB, Condo, Landed House, Business CCTV in Singapore). Always round up to the next commercially available hard drive size (e.g., from 4.1 TB to 6 TB) for best results.
        </p>
    </footer>

</div>

<script>
    // Constants for Bitrate Estimation (in Mbps)
    // These are conservative estimates for continuous, high-quality recording.
    // 1 Mbps/day/camera ‚âà 10.54 GB/day/camera
    const BITRATES = {
        // H.264 (Standard) Estimates in Mbps
        'H.264': {
            '2': 4.0, // 1080p (2MP)
            '4': 6.0, // 4MP (2K)
            '8': 10.0 // 8MP (4K)
        },
        // H.265 (HEVC) Estimates in Mbps (approx. 40% reduction from H.264)
        'H.265': {
            '2': 2.5, // 1080p (2MP)
            '4': 3.6, // 4MP (2K)
            '8': 6.0  // 8MP (4K)
        }
    };
    
    // Constant for converting 1 Mbps of data recorded over 24 hours to Gigabytes
    // Calculation: (1,000,000 bits/s * 3600 s/hr * 24 hr/day) / (8 bits/byte * 1024^3 bytes/GB)
    const GB_PER_DAY_PER_MBPS = 10.546875;

    function calculateStorage() {
        // 1. Get User Inputs
        const cameraCount = parseInt(document.getElementById('camera-count').value) || 0;
        const recordingDays = parseInt(document.getElementById('recording-days').value) || 0;
        const resolution = document.getElementById('resolution').value; // '2', '4', or '8'
        const compressionElement = document.querySelector('input[name="compression"]:checked');
        const compression = compressionElement ? compressionElement.value : 'H.264';
        const fps = parseInt(document.getElementById('fps').value) || 15;

        // Ensure inputs are valid
        if (cameraCount <= 0 || recordingDays <= 0) {
            document.getElementById('required-tb').textContent = '0.00 TB';
            document.getElementById('required-gb').textContent = '0 GB';
            document.getElementById('recommendation-text').innerHTML = 'Please enter a valid number of cameras and days to calculate.';
            return;
        }

        // 2. Determine Base Bitrate (Mbps)
        const baseBitrate = BITRATES[compression][resolution];

        // 3. Apply FPS Multiplier
        // Standard full-motion video for surveillance is 25 FPS (or 30 in some regions).
        // We use 25 FPS as the 1.0 baseline for the baseBitrate values.
        const fpsMultiplier = fps / 25;
        
        // 4. Calculate Total Required Gigabytes
        // Total GB = (Camera Count * Base Bitrate (Mbps) * Days * GB_PER_DAY_PER_MBPS) * FPS Multiplier
        let totalGB = (cameraCount * baseBitrate * recordingDays * GB_PER_DAY_PER_MBPS) * fpsMultiplier;

        // 5. Convert to Terabytes and Format
        const totalTB = totalGB / 1024;

        // Update the results display
        document.getElementById('required-tb').textContent = totalTB.toFixed(2) + ' TB';
        document.getElementById('required-gb').textContent = Math.ceil(totalGB).toLocaleString('en-US') + ' GB';

        // Update Recommendation Text
        const recommendationDiv = document.getElementById('recommendation-text');
        
        // Find the next standard HDD size to recommend
        let recommendedTB = 0;
        const standardSizes = [1, 2, 4, 6, 8, 10, 12, 16];
        for (const size of standardSizes) {
            if (size >= totalTB) {
                recommendedTB = size;
                break;
            }
        }
        
        if (totalTB > 0) {
            if (recommendedTB === 0) {
                // For very large systems, recommend a high-end size
                recommendedTB = 16;
            }

            recommendationDiv.innerHTML = `
                <p class="font-bold text-gray-900">
                    üí° Our Pro Tip: For safety, always choose the next available hard drive size.
                    We recommend a minimum NVR/DVR capacity of <span class="text-indigo-600 font-extrabold text-xl">${recommendedTB} TB</span>.
                </p>
            `;
        } else {
            recommendationDiv.innerHTML = 'Please adjust the inputs above.';
        }
    }

    // Run the calculation once on load with default values
    document.addEventListener('DOMContentLoaded', calculateStorage);
</script>

</body>
</html>
